(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(18),i=n.n(a),s=(n(33),n(17)),u=n(2),o=(n(34),n(16)),l=n(5),j=n(4),d=n.n(j),p=n(10),b=n(7),h=Object(b.b)({key:"dailyAtom",default:[]}),f=Object(b.b)({key:"cityKey",default:"215854"}),v=Object(b.b)({key:"cityName",default:"Tel Aviv"}),O=Object(b.b)({key:"tempAtom",default:"28"}),x=n(1),m="https://dataservice.accuweather.com";function y(e,t){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(d.a.mark((function e(t,n){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(m,"/locations/v1/cities/autocomplete?apikey=").concat(n,"&q=").concat(t),e.next=3,fetch(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(d.a.mark((function e(t,n){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(m,"/forecasts/v1/daily/5day/").concat(t,"?apikey=").concat(n,"&metric=true"),e.next=3,fetch(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return K.apply(this,arguments)}function K(){return(K=Object(p.a)(d.a.mark((function e(t,n){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(m,"/currentconditions/v1/").concat(t,"?apikey=").concat(n,"&metric=true"),e.next=3,fetch(c);case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(d.a.mark((function e(t){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/locations/v1/cities/search?apikey=").concat(t,"&q=tel aviv"),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){var t=e.API_KEY,n=e.favorites,r=e.addToFavorites,a=e.removeFavorite,i=Object(c.useState)(null),s=Object(u.a)(i,2),o=s[0],l=s[1],j=Object(b.c)(h),w=Object(u.a)(j,2),g=w[0],K=w[1],A=Object(b.d)(f),F=Object(b.c)(v),C=Object(u.a)(F,2),S=C[0],Y=C[1],D=Object(b.c)(O),P=Object(u.a)(D,2),E=P[0],L=P[1],I=Object(c.useState)([]),z=Object(u.a)(I,2),G=z[0],V=z[1],J=Object(c.useState)(!1),Q=Object(u.a)(J,2),_=Q[0],q=Q[1],B=("".concat(m,"/locations/v1/cities/search?apikey=").concat(t,"&q=tel aviv"),Object(c.useState)([])),R=Object(u.a)(B,2);function Z(){return(Z=Object(p.a)(d.a.mark((function e(n){var c,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.target.value,!n.nativeEvent.data){e.next=8;break}return e.next=4,y(c,t);case 4:r=e.sent,V(r),e.next=13;break;case 8:a=G.find((function(e){return e.LocalizedName===c})),l(a),Y(null===a||void 0===a?void 0:a.LocalizedName),W(null===a||void 0===a?void 0:a.Key),H(null===a||void 0===a?void 0:a.Key);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return U.apply(this,arguments)}function U(){return(U=Object(p.a)(d.a.mark((function e(){var n,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"215854",e.next=3,N(n,t).then((function(e){L(e[0].Temperature.Metric.Value)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return X.apply(this,arguments)}function X(){return(X=Object(p.a)(d.a.mark((function e(){var t,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"215854",e.next=3,k(t,T).then((function(e){K(e.DailyForecasts)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t).then((function(e){l(e[0])}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}R[0],R[1],Object(c.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(A);case 3:return e.next=5,$();case 5:return e.next=7,W(A,K);case 7:q(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A]);var te=n.find((function(e){return e.Key===(null===o||void 0===o?void 0:o.Key)}));return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"Main-top",children:[Object(x.jsxs)("div",{className:"Main-Current",children:[Object(x.jsx)("h1",{children:"Current weather:"}),_?Object(x.jsx)("h1",{className:"current-city",children:S}):Object(x.jsx)("p",{children:"loading..."}),_?Object(x.jsxs)("h2",{className:"current-degree",children:[E,"\xb0C"]}):Object(x.jsx)("p",{children:"loading..."}),_?Object(x.jsx)("h1",{className:"current-description",children:g[0].Day.IconPhrase}):Object(x.jsx)("p",{children:"loading..."})]}),Object(x.jsxs)("div",{className:"Main-search",children:[Object(x.jsx)("input",{pattern:"[A-Za-z]",type:"text",list:"search",placeholder:"search weather",onChange:function(e){return Z.apply(this,arguments)}}),Object(x.jsx)("datalist",{id:"search",children:G.map((function(e){return Object(x.jsx)("option",{value:e.LocalizedName})}))}),Object(x.jsx)("button",{className:"add",onClick:function(){if(te)return a(o);r(o)},children:te?"Remove From favorites":"Add to favorites"})]})]}),_?Object(x.jsx)("div",{children:Object(x.jsx)("ul",{children:g.map((function(e,t){var n,c,r,a;return Object(x.jsxs)("li",{children:[Object(x.jsx)("p",{children:new Date(e.Date).toString().split(" ")[0]}),Object(x.jsx)("br",{}),Object(x.jsxs)("p",{children:[Math.floor(null===e||void 0===e||null===(n=e.Temperature)||void 0===n||null===(c=n.Maximum)||void 0===c?void 0:c.Value),"\xb0C/",Math.floor(null===e||void 0===e||null===(r=e.Temperature)||void 0===r||null===(a=r.Minimum)||void 0===a?void 0:a.Value),"\xb0C"]})]},t)}))})}):Object(x.jsx)("p",{children:"Loading..."})]})},C=n(3);var S=function(e){var t=e.API_KEY,n=e.favorites,r=(e.createSelected,e.selected,Object(c.useState)([])),a=Object(u.a)(r,2),i=a[0],s=a[1],o=Object(b.e)(f),j=Object(b.e)(v),d=Object(b.e)(O),p=Object(l.g)();Object(c.useEffect)((function(){var e=n.map((function(e){return fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(e.Key,"?apikey=").concat(t,"&metric=true")).then((function(e){return e.json()})).then((function(t){return Object(C.a)(Object(C.a)({},t[0]),{},{cityKey:e.Key})}))}));Promise.all(e).then((function(e){s(e)}))}),[]);var h=function(e,t){return function(){o(e.Key),j(e.LocalizedName);var t=i.find((function(t){return t.cityKey==e.Key}));d(t.Temperature.Metric.Value),p.push("/Main")}};return Object(x.jsx)("div",{children:Object(x.jsx)("ul",{className:"Favorite-city",children:n.map((function(e,t){var n;return Object(x.jsx)("li",{children:Object(x.jsxs)("button",{className:"Favorites-button",onClick:h(e),children:[Object(x.jsx)("div",{children:e.LocalizedName}),Object(x.jsxs)("div",{children:[null===(n=i[t])||void 0===n?void 0:n.Temperature.Metric.Value,"\xb0C"]})]})},t)}))})})},T="m9nQY13nGtGOtGe6QeJ2Y6AegYcDDxxN";var Y=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),j=i[0],d=i[1],p="m9nQY13nGtGOtGe6QeJ2Y6AegYcDDxxN";return console.log("favorites",n),console.log("selected",j),Object(x.jsx)(b.a,{children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(o.a,{children:[Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsx)(o.b,{to:"/Main",replace:!0,children:Object(x.jsx)("button",{className:"App-main-button",children:"Main Page"})}),Object(x.jsx)(o.b,{to:"/Favorites",replace:!0,children:Object(x.jsx)("button",{className:"App-fav-button",children:"Favorites"})})]}),Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(l.a,{to:"/Main"})}}),Object(x.jsx)(l.b,{exact:!0,path:"/Main",children:Object(x.jsx)(F,{API_KEY:p,favorites:n,selected:j,removeFavorite:function(e){r((function(t){return t.filter((function(t){return e.Key!==t.Key}))}))},addToFavorites:function(e){r((function(t){return[].concat(Object(s.a)(t),[e])}))}})}),Object(x.jsx)(l.b,{exact:!0,path:"/Favorites",children:Object(x.jsx)(S,{API_KEY:p,favorites:n,CreateSelected:function(e){d([e])}})})]})]})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Y,{})}),document.getElementById("root")),D()}},[[42,1,2]]]);
//# sourceMappingURL=main.596115ba.chunk.js.map