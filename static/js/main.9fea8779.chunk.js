(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(20),i=n.n(a),s=(n(27),n(22)),u=n(8),o=(n(28),n(11)),l=n(2),j=n(4),d=n.n(j),p=n(9),h=n(1),b="https://dataservice.accuweather.com";function f(e,t){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(b,"/locations/v1/cities/autocomplete?apikey=").concat(n,"&q=").concat(t),e.next=3,fetch(r);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(b,"/forecasts/v1/daily/5day/").concat(t,"?apikey=").concat(n,"&metric=true"),e.next=3,fetch(r);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(b,"/currentconditions/v1/").concat(t,"?apikey=").concat(n,"&metric=true"),e.next=3,fetch(r);case 3:return c=e.sent,e.next=6,c.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var t,n,c,a,i=e.API_KEY,s=e.favorites,o=e.addToFavorites,l=e.removeFavorite,j=Object(r.useState)(null),v=Object(u.a)(j,2),O=v[0],y=v[1],w=Object(r.useState)([]),g=Object(u.a)(w,2),k=g[0],N=g[1],F=Object(r.useState)([]),M=Object(u.a)(F,2),A=M[0],C=M[1],K=Object(r.useState)(!1),P=Object(u.a)(K,2),S=P[0],E=P[1],T="".concat(b,"/locations/v1/cities/search?apikey=").concat(i,"&q=tel aviv"),I=Object(r.useState)([]),L=Object(u.a)(I,2),D=L[0],Y=L[1];function z(){return(z=Object(p.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,!t.nativeEvent.data){e.next=8;break}return e.next=4,f(n,i);case 4:r=e.sent,C(r),e.next=11;break;case 8:c=A.find((function(e){return e.LocalizedName===n})),y(c),R(c.Key);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return _.apply(this,arguments)}function _(){return(_=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T).then((function(e){return e.json()})).then((function(e){y(e[0])}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(d.a.mark((function e(){var t,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"215854",e.next=3,x(t,i).then((function(e){N(e.DailyForecasts)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(d.a.mark((function e(){var t,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"215854",e.next=3,m(t,i).then((function(e){Y(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:return e.next=5,V();case 5:return e.next=7,R();case 7:E(!0),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]);var X=s.find((function(e){return e.Key===(null===O||void 0===O?void 0:O.Key)}));return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"Main-top",children:[Object(h.jsxs)("div",{className:"Main-Current",children:[Object(h.jsx)("h1",{children:"Current weather:"}),S?Object(h.jsx)("h1",{className:"current-city",children:null===(t=s[0])||void 0===t?void 0:t.LocalizedName}):Object(h.jsx)("p",{children:"loading..."}),S?Object(h.jsxs)("h2",{className:"current-degree",children:[null===(n=D[0])||void 0===n||null===(c=n.Temperature)||void 0===c||null===(a=c.Metric)||void 0===a?void 0:a.Value,"\xb0C"]}):Object(h.jsx)("p",{children:"loading..."}),S?Object(h.jsx)("h1",{className:"current-description",children:k[0].Day.IconPhrase}):Object(h.jsx)("p",{children:"loading..."})]}),Object(h.jsxs)("div",{className:"Main-search",children:[Object(h.jsx)("input",{type:"text",list:"search",placeholder:"search weather",onChange:function(e){return z.apply(this,arguments)}}),Object(h.jsx)("datalist",{id:"search",children:A.map((function(e){return Object(h.jsx)("option",{value:e.LocalizedName})}))}),Object(h.jsx)("button",{className:"add",onClick:function(){if(X)return l(O);o(O)},children:X?"Remove From favorites":"Add to favorites"})]})]}),S?Object(h.jsx)("div",{children:Object(h.jsx)("ul",{children:k.map((function(e,t){var n,r,c,a;return Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:new Date(e.Date).toString().split(" ")[0]}),Object(h.jsx)("br",{}),Object(h.jsxs)("p",{children:[Math.floor(null===e||void 0===e||null===(n=e.Temperature)||void 0===n||null===(r=n.Maximum)||void 0===r?void 0:r.Value),"\xb0C/",Math.floor(null===e||void 0===e||null===(c=e.Temperature)||void 0===c||null===(a=c.Minimum)||void 0===a?void 0:a.Value),"\xb0C"]})]},t)}))})}):Object(h.jsx)("p",{children:"Loading..."})]})};var g=function(e){var t=e.API_KEY,n=e.favorites,c=Object(r.useState)([]),a=Object(u.a)(c,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){var e=n.map((function(e){return fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(e.Key,"?apikey=").concat(t,"&metric=true")).then((function(e){return e.json()})).then((function(e){return e[0]}))}));Promise.all(e).then((function(e){s(e)}))}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("ul",{className:"Favorite-city",children:n.map((function(e,t){var n;return Object(h.jsx)("li",{children:Object(h.jsx)(o.b,{to:"/Main",replace:!0,children:Object(h.jsxs)("button",{className:"Favorites-button",children:[Object(h.jsx)("div",{children:e.LocalizedName}),Object(h.jsxs)("div",{children:[null===(n=i[t])||void 0===n?void 0:n.Temperature.Metric.Value,"\xb0C"]})]})})},t)}))})})};var k=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a="A6pmRGXawgAtZM5Y11NF2ZemuHR9XdPm";return console.log("favorites",n),Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(o.a,{children:[Object(h.jsxs)("header",{className:"App-header",children:[Object(h.jsx)(o.b,{to:"/Main",replace:!0,children:Object(h.jsx)("button",{className:"App-main-button",children:"Main Page"})}),Object(h.jsx)(o.b,{to:"/Favorites",replace:!0,children:Object(h.jsx)("button",{className:"App-fav-button",children:"Favorites"})})]}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(l.a,{to:"/Main"})}}),Object(h.jsx)(l.b,{exact:!0,path:"/Main",children:Object(h.jsx)(w,{API_KEY:a,favorites:n,removeFavorite:function(e){c(n.filter((function(t){return e.Key!==t.Key})))},addToFavorites:function(e){c([e].concat(Object(s.a)(n)))}})}),Object(h.jsx)(l.b,{exact:!0,path:"/Favorites",children:Object(h.jsx)(g,{API_KEY:a,favorites:n})})]})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root")),N()}},[[36,1,2]]]);
//# sourceMappingURL=main.9fea8779.chunk.js.map